<html>
<META HTTP-EQUIV="CACHE-CONTROL" CONTENT="NO-CACHE"/>
<META HTTP-EQUIV="EXPIRES" CONTENT="Mon, 22 Jul 2002 11:00:00 GMT"/>
<head>
  <script type="module">
import * as kaspa from "./kaspa/kaspa.js";

let {Transaction} = kaspa;

var networkId = "testnet-11";	
var rpc;

const queryString = window.location.search;
const urlParams = new URLSearchParams(queryString);

var transactionSafeJSON = document.getElementById('transactionSafeJSON');
var transaction;

(async ()=> {
  try{
    const wasm = await kaspa.default("./kaspa/kaspa_bg.wasm");
    transactionSafeJSON.textContent = urlParams.get('transactionSafeJSON');
  }catch(e){
    alert(e)
  }
})();

function sign(){
  try{
    transaction = Transaction.deserializeFromJSON(transactionSafeJSON.textContent);
    
  }catch(e){
    alert(e)
  }  
}
window.sign=sign;

  </script>
</head>
<body>
The following transaction was sent to be signed:
<textarea style="width:100%" id="transactionSafeJSON" lines="10">
</textarea>
<input type="BUTTON" value="Sign" onclick="sign">

</body>

</html>
